\subsection{Antecedentes}

El manejo de información obtenida de manera secuencial, a lo largo del tiempo, hace referencia al uso de series cronológicas. Este tipo de datos se encuentra en diferentes áreas de investigación. En el campo financiero, por ejemplo, es común hablar de la devaluación del colón con respecto al dólar, cantidad de exportaciones mensuales de un determinado producto o las ventas de este [@oscarh-1].

En la demografía, que es la rama de la estadística que estudia las poblaciones humanas según sus características o evolución a lo largo de su historia tiene, entre otras cosas, tres componentes que son de particular interés: fecundidad, mortalidad y migración. Uno de los principales temas de investigación en la demografía se trata de las proyecciones de población, el cual tiene un alto impacto a nivel social y económico, pues conocer con anticipación el posible comportamiento de la población en el futuro es clave para una adecuada planificación en diversos proyectos sobre los cuales se debe distribuir un presupuesto que, por norma general, es finito. Un claro ejemplo de esto se da durante una emergencia pues considerando el hecho de que difícilmente se sabe cuándo ocurrirá, conocer la posible cantidad de población que habita una zona es clave para la rápida reacción de las autoridades en el envío de ayuda o en la ejecución de planes de evacuación; recientemente en Costa Rica y en muchos lugares del mundo las autoridades gubernamentales debieron actuar con la mayor rapidez y eficacia posible ante la pandemia del covid-19. Gracias a las proyecciones de población es posible conocer, de manera aproximada, el posible tamaño de la población según sexo y grupos de edad; esto es de particular interés pues el covid-19 es particularmente peligroso para los adultos con 65 años y más, por cual conocer el tamaño poblacional del grupo de mayor riesgo, así como los adultos y los niños permiten conocer qué tanto podría propagarse el virus y cuántos podrían ser los infectados a lo largo del tiempo.

El campo actuarial también se ve beneficiado al mejorar sus métodos de pronóstico, pues uno de sus principales campos de estudio es la mortalidad, ya que representa un insumo de vital importancia para la planificación y sostenibilidad de los sistemas de pensiones, servicios de salud tanto pública como privada, seguros de vida y asuntos hipotecarios [@supenprodc].

Sin embargo, las series cronológicas por sí solas representan solo un insumo para abordar, como mínimo, tres objetivos básicos: 1) realizar análisis exploratorios usando mediante métodos de visualización y medidas de posición y variabilidad, como ver su crecimiento o decrecimiento a lo largo del tiempo, detectar valores atípicos o cambios drásticos en el nivel o valor medio de la serie, 2) generar modelos estadísticos que sirvan como una simplificación de la realidad, y 3) generar pronósticos para los posibles valores futuros que tomará el problema en cuestión.

Los tres objetivos anteriores se trabajan de manera secuencial, pues es necesario realizar primero el análisis exploratorio de los datos para tener una noción global del panorama y así conocer la serie cronológica con la que se está trabajando. Una vez hecho esto, existen múltiples formas de generar modelos para estos datos, como por ejemplo los métodos de suavizamiento exponencial desarrollados en la década de 1950 [@brown], modelos de regresión para series temporales [@kedem] o los procesos autorregresivos integrados de medias móviles o ARIMA por si siglas en inglés [@box-jenkins]. Cuando se ha establecido el modelo, los pronósticos son utilizados en instituciones públicas, gobiernos municipales, instituciones del sector privado, centros académicos, población civil, centros nacionales o regionales de investigación y organizaciones no gubernamentales dedicadas al desarrollo social. Si las entidades previamente mencionadas cuentan con proyecciones de calidad, la puesta en marcha de sus respectivos planes tendrá un impacto mayor y más efectivo.

De lo anterior debe rescatarse que generar un modelo adecuado es fundamental para obtener un pronóstico de calidad y es aquí donde resulta importante mencionar una diferencia clave entre los dos modelos clásicos más utilizados: los modelos de suavizamiento exponencial y los modelos ARIMA. Ambos representan enfoques complementarios a un problema, pues según los modelos de suavizamiento exponencial se fundamentan en un enfoque más descriptivo de los componentes de la serie cronológica en estudio, mientras que los modelos ARIMA tienen como objetivo explicar las relaciones pasadas de ésta [@hyndman2018forecasting]. La importancia de la metodología de Box-Jenkins radica en que no supone ningún patrón en particular en la serie histórica que se busca pronosticar, sino que contempla un proceso iterativo para identificar un posible modelo a partir de una clase general de modelos, para luego evaluar su ajuste sometiéndolo a diferentes pruebas y medidas de rendimiento. Al trabajar con la metodología de Box-Jenkins, uno de los pasos a concretar es identificar los parámetros del proceso $ARIMA(p,d,q)(P,D,Q)_s$ que gobiernan la serie, siendo la manera clásica de trabajar este paso, el análisis visual de las funciones de autocorrelación parcial y total.

\subsection{El problema}

El gran obstáculo que presenta esta identificación visual es que, actualmente, es común disponer de una gran cantidad de series cronológicas para analizar, lo que dificulta tener suficiente personal capacitado para realizar exitosamente este análisis visual e identificar adecuadamente los modelos. Aunado a esto, aún en el caso de que se dispusiera de los recursos para contar con el personal suficientemente capacitado para realizar esta identificación visual, siempre existirá el problema de la subjetividad, pues a pesar de que alguien proponga un patrón que gobierne la serie, otra persona podría tener otra interpretación del proceso, porponiendo así una especificación diferente. Esto sucede incluso con cantidades moderadas de series cronológicas a analizar, por lo que la generación de algoritmos que ayuden a esta identificación se vuelve cada vez más necesaria [@auto.arima].

Han sido varias las aproximaciones a un método que genere de manera automática un modelo ARIMA, como por ejemplo los propuestos por Hannan y Rissanen [@hannan], la extensión de dicha propuesta realizada por Gómez [@gomez] y posteriormente aplicada [@tramo] en los softwares TRAMO y SEATS; de manera similar se planteó una aplicación en los programas SCA-Expert [@liu] y TSE-AX [@melard]. Otros algoritmos desarrollados en programas de cómputo de paga son Forecast Pro [@forecastpro] y Autobox [@autobox]. Uno de los métodos automatizados de estimación más populares es el que ofrece el paquete `forecast` [@auto.arima] del lenguaje de programación R[^1] y permite hacer uso de la función `auto.arima()` para estimar un modelo ARIMA basado en pruebas de raíz unitaria y minimización del AICc [@burnham2007model]. De esta forma se obtiene un modelo temporal definiendo las diferenciaciones requeridas en la parte estacional $d$ mediante las pruebas KPSS [@doi:10.1111/1467-9892.00213] o ADF [@fuller1995introduction], y la no estacional $D$ utilizando las pruebas OCSB [@Osborn2009SEASONALITYAT] o la Canova-Hansen [@10.2307/1392184], seleccionado el orden óptimo para los términos $ARIMA(p, d, q)(P, D, Q)_s$ para una serie cronológica determinada. Sin embargo, alternativas como la función `auto.arima()` no someten a prueba las posibles especificaciones de un modelo en un rango determinado, concepto conocido como sobreparametrización, dejando así un vacío en el cuál se corre el riesgo de no seleccionar un modelo que ofrezca mejores pronósticos.

[^1]: Descarga gratuita en [https://cran.r-project.org/](https://cran.r-project.org/)

\subsection{Objetivos del estudio}

Teniendo en consideración lo previamente mencionado, esta investigación tiene como objetivo general evaluar la calidad de los pronósticos realizados con modelos ARIMA especificados vía sobreparametrización para proponer un modelo adecuado en una serie cronológica. Para lograr esto, se busca de manera específica alcanzar lo siguiente:

**1.** Diseñar un algoritmo para la selección del mejor modelo ARIMA según la temporalidad de la serie.

**2.** Aplicar validación cruzada en distintos horizontes de pronóstico para identificar la mejor especificación de un modelo ARIMA.

**3.** Comparar la precisión de los pronósticos con métodos similares, como el propuesto por Rob Hyndman, de la Oficina de Censos de los Estados Unidos, entre otros.

**4.** Integrar el desarrollo de la metodología de análisis de series temporales en una librería del lenguaje estadístico R.

\subsection{Metodología del estudio}

Los modelos ARIMA, junto con los de suavizamiento exponencial, son los de uso más extendido en el análisis de series cronológicas. El nombre ARIMA es la abreviatura inglesa para AutoRegresive Integrated Moving Average, y son aplicados mediante la metodología de Box-Jenkins. Como menciona Rob. Hyndman [@hyndman_box-jenkins], la metodología de Box-Jenkins difiere a los demás métodos porque no supone un determinado patrón en la serie cronológica, sino que parte de un proceso iterativo para identificar el modelo de un gran grupo de estos para luego ponerlo a prueba según varias medidas de rendimiento. Un proceso ARIMA es caracterizado por dos funciones: la autocorrelación y la autocorrelación parcial; es mediante la comparación de dichas funciones que la metodologóa Box-Jenkins busca la identifiación el proceso que describa de manera adecuada el comportamiento de una serie cronológica.

De esta manera, el método de Box-Jenkins inicia con el análisis exploratorio de la serie cronológica de interés, teniendo un interés particular en identificar si hay presencia de factores no estacionarios en la misma. Si en efecto se cuenta con una serie no estacionaria, ésta debe volverse estacionaria mediante algún tipo de transformación, típicamente el logaritmo natural. Con la serie ya transformada, se busca identificar el proceso que gobierna la serie, la forma clásica de hacer esto es mediante los gráficos de autocorrelación y autocorrelación parcial. Cuando se logra identificar un proceso que se adecúe más a la serie cronológica, se deben realizar los diagnósticos para evaluar la calidad del ajuste del modelo, así como las medidas de rendimiento referentes a los pronósticos que genera el modelo estimado hasta un horizonte determinado. 

Es a partir de la necesidad de obtener pronósticos lo más precisos posible que el presente trabajo propone una metodología para la estimación un modelo ARIMA de una serie cronológica determinada abarcando más posibilidades que los enfoques tradicionales, cuya temporalidad sea mensual, bimensual, trimestral o cuatrimestral, mediante un proceso de selección fundamentada en las permutaciones de todos los parámetros de un modelo ARIMA hasta en un rango determinado, considerando además la inclusión semiautomática de intervenciones en periodos específicos y la validación cruzada para evaluar la calidad de las particiones de la base de datos en conjuntos para entrenar y probar el rendimiento del modelo. Dichas pruebas involucran, entre otras medidas de rendimiento, el MAE, RMSE, MAPE y MASE, las cuales sirven de insumo para utilizar un método de consenso entre ellas y seleccionar el modelo más adecuado mediante la sobreparametrización: se comparan todos los posibles en in intervalo específico de términos definiendo una diferenciación adecuada para la serie y permutando hasta un máximo definido para los términos de especificación de un $ARIMA(p, d, q)(P, D, Q)_s$ para así seleccionar la especificación que ofrezca mejores resultados al momento de pronosticar valores futuros de la serie cronológica. El método propuesto se probará comparándose con los resultados de seis series con distintas temporalidades: mortalidad infantil, mortalidad por causa externa, nacimientos, demanda eléctrica, intereses y comisiones del sector público e incentivos salariales del sector público.

\subsection{Justificación del estudio}

El principal aporte de este estudio es, por medio de un proceso de simulación, aportar evidencia sobre cómo la sobreparametrización puede contribuir a definir la especificación de un modelo ARIMA que genere pronósticos adecuados, contrastando la calidad de estos con respecto a otros métodos similares, como lo son las funciones `auto.arima()` o `seas()`.

Una vez que el método ha sido desarrollado y probado mediante datos simulados, la aplicación real mostrará el verdadero alcance y potencial de la sobreparametrización en la estimación de modelos ARIMA al ser utilizado en datos reales para de este modo representar una herramienta para la toma de decisiones. En el campo demográfico, por ejemplo, las estadísticas vitales son sistematizadas y divulgadas año tras año, por tanto, revelan los cambios acontecidos durante este periodo. Esta información junto con la proveniente de los censos de población constituye la base para construir los diferentes índices, tasas y otros indicadores que revelan la situación demográfica del país, información de gran relevancia para la planificación nacional, regional y local en diversos campos. Uno de estos principales campos o áreas de acción es la salud pública, para la cual la tasa de mortalidad infantil se considera uno de los indicadores prioritarios dado que refleja no solo las condiciones de salud de la población infante, sino también los niveles de desarrollo del país, pues depende de la calidad de la atención de la salud, principalmente de la prenatal y perinatal, así como de las condiciones de saneamiento. Por tanto, su continuo monitoreo es fundamental para diseñar, implementar y evaluar políticas de salud pública orientadas a disminuir y erradicar aquellas que son prevenibles [@calidad_vitales]. Por su parte, la Contraloría General de la República dispone de información completa, pública, proveniente de fuentes primarias, actualizada en tiempo, de libre acceso, procesable tanto por humanos como por máquinas, en formatos abiertos, con licencia libre de uso, permanente y sin costos de utilización. 

La validación de los datos se realiza en dos vías: un protocolo de detección semiautomático de inconsistencias el cual consiste en la tabulación de cuadros que sirvan para visualizar los cruces más importantes entre variables y que dejen en evidencia casos extraños, como que ocurran nacimientos en un asilo de ancianos, o verificar la edad de la madre con la cantidad de hijos tenidos. También se realiza una segunda verificación manual para revisar casos que por la forma en que fueron digitados luzcan sospechosos, como un peso al nacer inferior a 500 gramos o números de cédula repetidos en nacimientos que no son múltiples. En casos muy puntuales en los que se disponga de un medio de comunicación con el informante, este es contactado para corroborar datos que luzcan sospechosos o bien para completar información faltante.


\subsection{Organización del estudio}

Esta tesis consta de cinco capítulos, de los cuáles el primero ofrece una contextualización del uso de las series de tiempo, así como la importancia de poder contar con pronósticos de calidad. Se presentaron además objetivos que busca alcanzar el estudio así como una breve descripción de la metodología que se empleará y que será discutida más detalladamente en los capítulos posteriores. Se concluye esta sección con hechos que justifican la importancia de esta investigación.

El siguiente capítulo consiste en el marco teórico y la revisión de la literatura asociada con el estudio.

En el tercer capítulo se describe en detalle toda la metodología relacionada al estudio, iniciando con una descripción global de los conceptos más fundamentales del análisis de series cronológicas, pasando por los componentes fundamentales de las mismas: tendencia, estacionalidad, ciclos e irregularidades. En este capítulo se discuten también los supuestos clásicos del análisis de series cronológicas, los distintos tipos de modelos, el análisis de intervención, la validación cruzada y las medidas de rendimiento; aspectos cruciales para obtener un modelo ARIMA vía sobreparametrización. La sección metodológica culmina con la descripción del proceso de simulación que se utilizará, así como la discusión del método propuesto.

El siguiente capítulo consiste trata la presentación de los resultados, tanto en los datos simulados como en la aplicación a datos costarricenses.

El último capítulo busca discutir los principales resultados, así como señalar las conclusiones más importantes y ofrecer algunas recomendaciones que orienten futuros estudios relacionados.

Finalmente se ofrece en la sección de anexos los códigos en lenguaje R más importantes utilizados en el estudio, así como una sección dedicada a las referencias bilbiográficas obtenidas para esta investigación.