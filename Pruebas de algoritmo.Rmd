Para simular un proceso arima estacional, Hyndman sugiere:

https://www.r-bloggers.com/simulating-from-a-specified-seasonal-arima-model/

```{r}
simular.proceso <- function(data, n, temporalidad, no.estacional, estacional, p=NULL, q=NULL, P=NULL, Q=NULL){
    
    require(forecast)
    coeficientes <- list(p, q, P, Q)
    coeficientes.simulados <- lapply(c(no.estacional[c(1,3)], estacional[c(1,3)]), function(x) sample(seq(-1,1,.1), x))
    pos <- which(sapply(coeficientes, is.null)==TRUE)
    
    coeficientes[pos] <- coeficientes.simulados[pos]
    names(coeficientes) <- c("p", "q", "P", "Q")
    
    modelo <- Arima(ts(data=data, freq=temporalidad), 
                    order = no.estacional, 
                    seasonal = estacional,
                    fixed=c(phi=coeficientes$p, 
                            theta=coeficientes$q, 
                            Phi=coeficientes$P, 
                            Theta=coeficientes$Q))
    datos <- simulate(modelo, nsim=n)
    list(modelo=modelo, datos=datos)
}

simulacion <- simular.proceso(data=rpois(100, 10), n=500, temporalidad=12, no.estacional=c(1,1,3), estacional = c(2,1,1), p=.1)

simulacion$modelo

Arima(simulacion$datos, order=c(1,1,3), seasonal = c(2,1,1))
```

```{r}
comparacion <- function(data, prop, proceso){
    require(parallel)
    require(tidyr)
    require(dplyr)
    corte <- round(length(data)*prop, 0)
    train <<- subset(data, end=corte)
    test <<- subset(data, start=corte+1)
    hyndman <- auto.arima(train)
    gamboa <- arimas.auto(tipo=proceso, serie=train, validacion=test, paralelo=TRUE)
    gamboa <- mejores.arimas(gamboa$medidas)
    
    list(hyndman=hyndman, gamboa=gamboa)
}

k <- comparacion(data=simulacion$datos, prop=.8, proceso=c(3,1,3,3,1,3))
```

```{r}
mod.hyndman <- Arima(train, order=c(0,1,3), seasonal=c(0,1,2))
mod.gamboa <- Arima(train, order=c(2,1,2), seasonal=c(2,1,0))
```


```{r}
train <- subset(foo, end=400)
test <- subset(foo, start=401)
auto.arima(train)
```

```{r}
inicio <- Sys.time()
l <- arimas.auto(tipo = c(2, 1, 2, 2, 1, 2), serie = train, validacion = test, paralelo=TRUE)
final <- Sys.time()
final-inicio
```

```{r}
mejores.arimas(l$medidas)
```

```{r}
mod.hynd <- Arima(train, order=c(1,0,1), seasonal=c(1,0,0))
mod.gamb <- Arima(train, order=c(0,0,2), seasonal=c(1,0,1))

#model;mod.hynd;mod.gamb
```

```{r}
plot(test)
lines(forecast(mod.hyndman, h=100)$mean, col="red")
lines(forecast(mod.gamboa, h=100)$mean, col="blue")
```

